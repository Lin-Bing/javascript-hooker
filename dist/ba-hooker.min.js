/* JavaScript Hooker - v0.2.2 - 11/5/2011
 * http://github.com/cowboy/javascript-hooker
 * Copyright (c) 2011 "Cowboy" Ben Alman; Licensed MIT, GPL */
(function(a){function e(a){this.value=a}function f(a){this.value=a}function g(a,b){this.context=a,this.args=b}function h(a,b,c){var e;if(typeof b=="string")b=[b];else if(b==null){b=[];for(e in a)a.hasOwnProperty(e)&&b.push(e)}var f=b.length;while(f--)(d.call(a[b[f]])!=="[object Function]"||c(a,b[f])===!1)&&b.splice(f,1);return b}var b,c=[].slice,d={}.toString;a.override=function(a){return new e(a)},a.preempt=function(a){return new f(a)},a.filter=function(a,b){return new g(a,b)},a.hook=function(b,d,i){return i==null&&(i=d,d=null),typeof i=="function"&&(i={pre:i}),h(b,d,function(b,d){function j(){var j,k,l,m=c.call(arguments);return i.passName&&m.unshift(d),i.pre&&(j=i.pre.apply(this,m)),j instanceof g?k=j=h.apply(j.context,j.args):j instanceof f?k=j=j.value:(k=h.apply(this,arguments),j=j instanceof e?j.value:k),i.post&&(l=i.post.apply(this,[k].concat(m)),l instanceof e&&(j=l.value)),i.once&&a.unhook(b,d),j}var h=b[d];b[d]=j;if(b[d]!==j)return!1;b[d]._orig=h})},a.orig=function(a,b){return a[b]._orig},a.unhook=function(b,c){return h(b,c,function(b,c){var d=a.orig(b,c);if(!d)return!1;b[c]=d})}})(typeof exports=="object"&&exports||this)